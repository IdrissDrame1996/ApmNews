{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _reactNativeElements = require(\"react-native-elements\");\nvar _reactNativeLoadingSpinnerOverlay = _interopRequireDefault(require(\"react-native-loading-spinner-overlay\"));\nvar _AuthContext = require(\"../context/AuthContext\");\nvar _nativeBase = require(\"native-base\");\nvar _drawer = require(\"@react-navigation/drawer\");\nvar _native = require(\"@react-navigation/native\");\nvar _Articles = _interopRequireDefault(require(\"../components/Articles\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _SearchContext = require(\"../context/SearchContext\");\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\nvar _SingleArticle = _interopRequireDefault(require(\"../components/SingleArticle\"));\nvar _BackButton = _interopRequireDefault(require(\"../components/BackButton\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\idriss.drame\\\\Projet\\\\ApmNews\\\\src\\\\screens\\\\ArticlesScreen.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar Drawer = (0, _drawer.createDrawerNavigator)();\nvar ArticlesScreen = function ArticlesScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var myId = route.params.myId;\n  console.log(myId);\n  var _useContext = (0, _react.useContext)(_AuthContext.AuthContext),\n    userInfo = _useContext.userInfo;\n  var _useContext2 = (0, _react.useContext)(_SearchContext.SearchContext),\n    isLoadingSearch = _useContext2.isLoadingSearch;\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    singleArticle = _useState2[0],\n    setSingleArticles = _useState2[1];\n  var getSingleArticle = function getSingleArticle() {\n    _axios.default.get('https://app.apmnews.com/1.0/link.php', {\n      params: {\n        user_token: userInfo.user_token,\n        article_id: myId,\n        deviceId: \"IDDevice123456789\",\n        _: \"1682543166278\"\n      }\n    }).then(function (response) {\n      var singleArticle = response.data;\n      setSingleArticles(singleArticle);\n      console.log(singleArticle.article_url);\n    }).catch(function (error) {\n      console.log(error);\n    }).then(function () {});\n  };\n  (0, _react.useEffect)(function () {\n    if (myId) {\n      getSingleArticle();\n    }\n  }, [myId]);\n  var result = singleArticle;\n  return (0, _jsxRuntime.jsxs)(_reactNative.SafeAreaView, {\n    style: styles.container,\n    children: [(0, _jsxRuntime.jsx)(_SingleArticle.default, {\n      tag_color: singleArticle.tags ? singleArticle.tags[0].tag_color : \"\",\n      tag_name: singleArticle.tags ? singleArticle.tags[0].tag_name : \"\",\n      tag_color2: singleArticle.tags && singleArticle.tags.length > 1 ? singleArticle.tags[1].tag_color : \"\",\n      tag_name2: singleArticle.tags && singleArticle.tags.length > 1 ? singleArticle.tags[1].tag_name : \"\",\n      title: singleArticle.title,\n      description: singleArticle.body,\n      publishedAt: singleArticle.date\n    }), (0, _jsxRuntime.jsx)(_reactNativeLoadingSpinnerOverlay.default, {\n      visible: isLoadingSearch\n    })]\n  });\n};\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    width: \"100%\",\n    alignSelf: \"center\",\n    borderRadius: 10,\n    shadowOpacity: 0.5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      height: 5,\n      width: 5\n    }\n  },\n  wrapper: {\n    width: '100%'\n  },\n  input: {\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: '#bbb',\n    borderRadius: 5,\n    paddingHorizontal: 14\n  },\n  link: {\n    color: 'blue'\n  }\n});\nvar _default = ArticlesScreen;\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeElements","_reactNativeLoadingSpinnerOverlay","_interopRequireDefault","_AuthContext","_nativeBase","_drawer","_native","_Articles","_axios","_SearchContext","_asyncStorage","_SingleArticle","_BackButton","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Drawer","createDrawerNavigator","ArticlesScreen","_ref","route","navigation","myId","params","console","log","_useContext","useContext","AuthContext","userInfo","_useContext2","SearchContext","isLoadingSearch","_useState","useState","_useState2","_slicedToArray2","singleArticle","setSingleArticles","getSingleArticle","axios","user_token","article_id","deviceId","_","then","response","data","article_url","catch","error","useEffect","result","jsxs","SafeAreaView","style","styles","container","children","jsx","tag_color","tags","tag_name","tag_color2","length","tag_name2","title","description","body","publishedAt","date","visible","StyleSheet","create","width","alignSelf","borderRadius","shadowOpacity","shadowColor","shadowOffset","height","wrapper","input","marginBottom","borderWidth","borderColor","paddingHorizontal","link","color","_default","exports"],"sources":["C:/Users/idriss.drame/Projet/ApmNews/src/screens/ArticlesScreen.js"],"sourcesContent":["import React, {useContext, useEffect ,useState} from 'react';\r\nimport { Component } from 'react';\r\nimport {Button,  SafeAreaView,FlatList, StyleSheet,Text, View, ScrollView,Dimensions,Image, useWindowDimensions} from 'react-native';\r\nimport { Header } from 'react-native-elements';\r\nimport Spinner from 'react-native-loading-spinner-overlay';\r\nimport {AuthContext} from '../context/AuthContext';\r\nimport { Icon } from 'native-base';\r\nimport { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport Article from '../components/Articles';\r\nimport axios from \"axios\";\r\nimport { SearchContext } from '../context/SearchContext';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport SingleArticle from '../components/SingleArticle';\r\nimport BackButton from '../components/BackButton';\r\nimport { useRoute } from '@react-navigation/native';\r\n\r\n\r\nconst Drawer = createDrawerNavigator();\r\n\r\nconst ArticlesScreen = ({route, navigation}) => {\r\n\r\n\r\n    const {myId} = route.params;  \r\n    console.log(myId)\r\n   \r\n   \r\n\r\n \r\n  const {userInfo} = useContext(AuthContext);\r\n  const {isLoadingSearch} = useContext(SearchContext)\r\n  const [singleArticle,setSingleArticles] = useState([]);\r\n\r\n\r\n  \r\n\r\n\r\n\r\n  const getSingleArticle = () => {\r\n\r\n\r\n    \r\n      axios.get('https://app.apmnews.com/1.0/link.php',{\r\n          params:{\r\n            user_token : userInfo.user_token,\r\n            \r\n            article_id : myId,\r\n            \r\n          \r\n            deviceId : \"IDDevice123456789\",\r\n            _ : \"1682543166278\"\r\n\r\n          }\r\n      })\r\n          .then( (response) =>{\r\n              // handle success\r\n              let singleArticle = response.data;\r\n              setSingleArticles(singleArticle);\r\n              console.log(singleArticle.article_url)\r\n     \r\n              \r\n\r\n           \r\n             \r\n          })\r\n          .catch(function (error) {\r\n              // handle error\r\n              console.log(error);\r\n          })\r\n          .then(function () {\r\n              // always executed\r\n          });\r\n  }\r\n \r\n\r\n  useEffect(() => {\r\n    if (myId)\r\n    {\r\n   \r\n    getSingleArticle();\r\n    }\r\n},[myId]);\r\n\r\n\r\n\r\n\r\n \r\n  const result = singleArticle;\r\n\r\n \r\n \r\n\r\n\r\n\r\n\r\n\r\nreturn(\r\n \r\n \r\n    <SafeAreaView style={styles.container}>\r\n\r\n  \r\n            \r\n\r\n            \r\n         \r\n            <SingleArticle\r\n            \r\n                tag_color = {singleArticle.tags ? (singleArticle.tags[0].tag_color) : (\"\")}\r\n                tag_name = {singleArticle.tags ? (singleArticle.tags[0].tag_name) : (\"\")}\r\n                tag_color2 = {singleArticle.tags && singleArticle.tags.length > 1 ? (singleArticle.tags[1].tag_color) : (\"\")}\r\n                tag_name2 = {singleArticle.tags && singleArticle.tags.length > 1? (singleArticle.tags[1].tag_name) : (\"\")}\r\n\r\n                    title = {singleArticle.title}\r\n                    description =  {singleArticle.body}                    \r\n                    publishedAt = {singleArticle.date}  \r\n                  \r\n                    \r\n                />\r\n\r\n       \r\n <Spinner visible={isLoadingSearch} />\r\n    </SafeAreaView>\r\n   \r\n   \r\n)\r\n\r\n\r\n\r\n\r\n\r\n};\r\n\r\nconst styles =  StyleSheet.create({\r\n  container:{\r\n    width: \"100%\",\r\n    alignSelf: \"center\",\r\n    borderRadius: 10,\r\n    shadowOpacity: 0.5,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n        height: 5,\r\n        width: 5\r\n    },\r\n  },\r\n \r\n  \r\n  wrapper: {\r\n    width: '100%',\r\n  },\r\n  input: {\r\n    marginBottom: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#bbb',\r\n    borderRadius: 5,\r\n    paddingHorizontal: 14,\r\n  },\r\n  link: {\r\n    color: 'blue',\r\n  },\r\n});\r\n\r\nexport default ArticlesScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}
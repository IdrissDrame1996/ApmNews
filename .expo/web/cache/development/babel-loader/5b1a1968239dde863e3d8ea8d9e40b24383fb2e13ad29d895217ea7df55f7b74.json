{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.keyboardDismissHandlerManager = void 0;\nexports.useBackHandler = useBackHandler;\nexports.useKeyboardDismissable = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar keyboardDismissHandlers = [];\nvar keyboardDismissHandlerManager = {\n  push: function push(handler) {\n    keyboardDismissHandlers.push(handler);\n    return function () {\n      keyboardDismissHandlers = keyboardDismissHandlers.filter(function (h) {\n        return h !== handler;\n      });\n    };\n  },\n  length: function length() {\n    return keyboardDismissHandlers.length;\n  },\n  pop: function pop() {\n    return keyboardDismissHandlers.pop();\n  }\n};\nexports.keyboardDismissHandlerManager = keyboardDismissHandlerManager;\nvar useKeyboardDismissable = function useKeyboardDismissable(_ref) {\n  var enabled = _ref.enabled,\n    callback = _ref.callback;\n  _react.default.useEffect(function () {\n    var cleanupFn = function cleanupFn() {};\n    if (enabled) {\n      cleanupFn = keyboardDismissHandlerManager.push(callback);\n    } else {\n      cleanupFn();\n    }\n    return function () {\n      cleanupFn();\n    };\n  }, [enabled, callback]);\n  useBackHandler({\n    enabled: enabled,\n    callback: callback\n  });\n};\nexports.useKeyboardDismissable = useKeyboardDismissable;\nfunction useBackHandler(_ref2) {\n  var enabled = _ref2.enabled,\n    callback = _ref2.callback;\n  (0, _react.useEffect)(function () {\n    var backHandler = function backHandler() {\n      callback();\n      return true;\n    };\n    if (enabled) {\n      _reactNative.BackHandler.addEventListener('hardwareBackPress', backHandler);\n    } else {\n      _reactNative.BackHandler.removeEventListener('hardwareBackPress', backHandler);\n    }\n    return function () {\n      return _reactNative.BackHandler.removeEventListener('hardwareBackPress', backHandler);\n    };\n  }, [enabled, callback]);\n}","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","keyboardDismissHandlers","keyboardDismissHandlerManager","push","handler","filter","h","length","pop","exports","useKeyboardDismissable","_ref","enabled","callback","React","useEffect","cleanupFn","useBackHandler","_ref2","backHandler","BackHandler","addEventListener","removeEventListener"],"sources":["C:\\Users\\idriss.drame\\Projet\\ApmNews\\node_modules\\native-base\\lib\\module\\hooks\\useKeyboardDismissable.ts"],"sourcesContent":["import React from 'react';\nimport { useEffect } from 'react';\nimport { BackHandler } from 'react-native';\n\ntype IParams = {\n  enabled?: boolean;\n  callback: () => any;\n};\n\nlet keyboardDismissHandlers: Array<() => any> = [];\nexport const keyboardDismissHandlerManager = {\n  push: (handler: () => any) => {\n    keyboardDismissHandlers.push(handler);\n    return () => {\n      keyboardDismissHandlers = keyboardDismissHandlers.filter(\n        (h) => h !== handler\n      );\n    };\n  },\n  length: () => keyboardDismissHandlers.length,\n  pop: () => {\n    return keyboardDismissHandlers.pop();\n  },\n};\n\n/**\n * Handles attaching callback for Escape key listener on web and Back button listener on Android\n */\nexport const useKeyboardDismissable = ({ enabled, callback }: IParams) => {\n  React.useEffect(() => {\n    let cleanupFn = () => {};\n    if (enabled) {\n      cleanupFn = keyboardDismissHandlerManager.push(callback);\n    } else {\n      cleanupFn();\n    }\n    return () => {\n      cleanupFn();\n    };\n  }, [enabled, callback]);\n\n  useBackHandler({ enabled, callback });\n};\n\nexport function useBackHandler({ enabled, callback }: IParams) {\n  useEffect(() => {\n    let backHandler = () => {\n      callback();\n      return true;\n    };\n    if (enabled) {\n      BackHandler.addEventListener('hardwareBackPress', backHandler);\n    } else {\n      BackHandler.removeEventListener('hardwareBackPress', backHandler);\n    }\n    return () =>\n      BackHandler.removeEventListener('hardwareBackPress', backHandler);\n  }, [enabled, callback]);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}
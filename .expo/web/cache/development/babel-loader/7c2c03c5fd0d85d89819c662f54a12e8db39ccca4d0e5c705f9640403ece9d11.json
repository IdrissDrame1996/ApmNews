{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OverlayContainer = OverlayContainer;\nexports.OverlayProvider = void 0;\nexports.PortalProvider = PortalProvider;\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _excluded = [\"style\"];\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar PortalContext = _react.default.createContext(null);\nvar globalOverlayCounter = 0;\nfunction PortalProvider(props) {\n  var _React$useState = _react.default.useState([]),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    items = _React$useState2[0],\n    setItems = _React$useState2[1];\n  var setOverlayItem = function setOverlayItem(element) {\n    var overlayId = ++globalOverlayCounter;\n    setItems(function (prev) {\n      return prev.concat([{\n        id: overlayId,\n        node: element\n      }]);\n    });\n    return overlayId;\n  };\n  var updateOverlayItem = function updateOverlayItem(id, node) {\n    setItems(function (prev) {\n      var overlayItem = prev.find(function (item) {\n        return item.id == id;\n      });\n      if (!overlayItem) {\n        return prev.concat([{\n          id: id,\n          node: node\n        }]);\n      } else {\n        return prev.map(function (item) {\n          if (item.id === id) {\n            return {\n              id: id,\n              node: node\n            };\n          }\n          return item;\n        });\n      }\n    });\n  };\n  var removeOverlayItem = function removeOverlayItem(id) {\n    setItems(function (prev) {\n      var newItems = prev.filter(function (item) {\n        return item.id !== id;\n      });\n      return newItems;\n    });\n  };\n  return _react.default.createElement(PortalContext.Provider, {\n    value: {\n      items: items,\n      setOverlayItem: setOverlayItem,\n      removeOverlayItem: removeOverlayItem,\n      updateOverlayItem: updateOverlayItem,\n      isSSR: props === null || props === void 0 ? void 0 : props.isSSR\n    }\n  }, props.children, items.map(function (item) {\n    return _react.default.createElement(_react.default.Fragment, {\n      key: item.id\n    }, item.node);\n  }));\n}\nfunction OverlayView(_ref) {\n  var style = _ref.style,\n    props = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n  return _react.default.createElement(_reactNative.View, _extends({\n    pointerEvents: \"box-none\",\n    style: [_reactNative.StyleSheet.absoluteFill, style],\n    collapsable: false\n  }, props));\n}\nvar OverlayProvider = PortalProvider;\nexports.OverlayProvider = OverlayProvider;\nfunction OverlayContainer(props) {\n  var context = usePortalProvider();\n  var overlayId = _react.default.useRef(undefined);\n  var element = _react.default.createElement(OverlayView, props);\n  (0, _react.useEffect)(function () {\n    if (overlayId.current === undefined) {\n      overlayId.current = context === null || context === void 0 ? void 0 : context.setOverlayItem(element);\n    } else {\n      if (overlayId.current) {\n        context === null || context === void 0 ? void 0 : context.updateOverlayItem(overlayId.current, element);\n      }\n    }\n  }, [props]);\n  (0, _react.useEffect)(function () {\n    return function () {\n      if (overlayId.current) {\n        context === null || context === void 0 ? void 0 : context.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n  if (context !== null && context !== void 0 && context.isSSR && !overlayId.current) {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        display: 'none'\n      }\n    }, element);\n  }\n  return null;\n}\nfunction usePortalProvider() {\n  var context = _react.default.useContext(PortalContext);\n  return context;\n}","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","PortalContext","React","createContext","globalOverlayCounter","PortalProvider","props","_React$useState","useState","_React$useState2","_slicedToArray2","items","setItems","setOverlayItem","element","overlayId","prev","concat","id","node","updateOverlayItem","overlayItem","find","item","map","removeOverlayItem","newItems","filter","createElement","Provider","value","isSSR","children","Fragment","OverlayView","_ref","style","_objectWithoutProperties2","View","_extends","pointerEvents","StyleSheet","absoluteFill","collapsable","OverlayProvider","exports","OverlayContainer","context","usePortalProvider","useRef","undefined","useEffect","current","display","useContext"],"sources":["C:\\Users\\idriss.drame\\Projet\\ApmNews\\node_modules\\@react-native-aria\\overlays\\lib\\module\\Portal.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport type { ReactNode } from 'react';\nimport { StyleSheet, View, ViewProps } from 'react-native';\n\ntype OverlayItem = {\n  id: number;\n  node: ReactNode;\n};\n\ninterface PortalContext {\n  items: Array<OverlayItem>;\n  setOverlayItem: (node: ReactNode) => number;\n  removeOverlayItem: (id: number) => void;\n  updateOverlayItem: (id: number, node: ReactNode) => void;\n  isSSR?: boolean;\n}\n\ninterface ModalProviderProps extends ViewProps {\n  children: ReactNode;\n  provider?: boolean;\n}\n\nconst PortalContext = React.createContext<PortalContext | null>(null);\n\nlet globalOverlayCounter = 0;\n\nexport function PortalProvider(props: {\n  children: ReactNode;\n  isSSR?: boolean;\n}) {\n  const [items, setItems] = React.useState<Array<OverlayItem>>([]);\n\n  const setOverlayItem = (element: ReactNode) => {\n    const overlayId = ++globalOverlayCounter;\n    setItems((prev) => prev.concat([{ id: overlayId, node: element }]));\n    return overlayId;\n  };\n\n  const updateOverlayItem = (id: number, node: ReactNode) => {\n    setItems((prev) => {\n      const overlayItem = prev.find((item) => item.id == id);\n      if (!overlayItem) {\n        return prev.concat([{ id: id, node }]);\n      } else {\n        return prev.map((item) => {\n          if (item.id === id) {\n            return { id, node };\n          }\n\n          return item;\n        });\n      }\n    });\n  };\n\n  const removeOverlayItem = (id: number) => {\n    setItems((prev) => {\n      const newItems = prev.filter((item) => item.id !== id);\n      return newItems;\n    });\n  };\n\n  return (\n    <PortalContext.Provider\n      value={{\n        items,\n        setOverlayItem,\n        removeOverlayItem,\n        updateOverlayItem,\n        isSSR: props?.isSSR,\n      }}\n    >\n      {props.children}\n\n      {/* Render Overlays */}\n      {items.map((item) => {\n        return <React.Fragment key={item.id}>{item.node}</React.Fragment>;\n      })}\n    </PortalContext.Provider>\n  );\n}\n\nfunction OverlayView({ style, ...props }: ModalProviderProps) {\n  return (\n    <View\n      pointerEvents=\"box-none\"\n      style={[StyleSheet.absoluteFill, style]}\n      collapsable={false}\n      {...props}\n    />\n  );\n}\n\nexport const OverlayProvider = PortalProvider;\n\nexport function OverlayContainer(props: ModalProviderProps) {\n  const context = usePortalProvider();\n  const overlayId = React.useRef<number | undefined>(undefined);\n  const element = <OverlayView {...props} />;\n\n  useEffect(\n    () => {\n      // Mount\n      if (overlayId.current === undefined) {\n        overlayId.current = context?.setOverlayItem(element);\n      }\n      // Update\n      else {\n        if (overlayId.current) {\n          context?.updateOverlayItem(overlayId.current, element);\n        }\n      }\n    },\n    // To re-render the child\n    [props]\n  );\n\n  // Unmount\n  useEffect(() => {\n    return () => {\n      if (overlayId.current) {\n        context?.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n\n  // Rendering elements for SSR\n  if (context?.isSSR && !overlayId.current) {\n    return <View style={{ display: 'none' }}>{element}</View>;\n  }\n  return null;\n}\n\nfunction usePortalProvider() {\n  const context = React.useContext(PortalContext);\n  return context;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}
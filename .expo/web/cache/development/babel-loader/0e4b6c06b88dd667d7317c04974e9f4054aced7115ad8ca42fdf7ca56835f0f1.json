{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\nvar _hooks = require(\"../../../hooks\");\nvar _excluded = [\"ratio\", \"children\"];\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar AspectView = (0, _react.forwardRef)(function (props, ref) {\n  var _React$useState = _react.default.useState(),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    layout = _React$useState2[0],\n    setLayout = _React$useState2[1];\n  var aspectViewStyle = [_reactNative.StyleSheet.flatten(props.style) || {}];\n  if (layout) {\n    var _layout$width = layout.width,\n      width = _layout$width === void 0 ? 0 : _layout$width,\n      _layout$height = layout.height,\n      height = _layout$height === void 0 ? 0 : _layout$height;\n    if (width === 0) {\n      aspectViewStyle.push({\n        width: height * props.aspectRatio,\n        height: height\n      });\n    } else {\n      aspectViewStyle.push({\n        width: width,\n        height: width / props.aspectRatio\n      });\n    }\n  }\n  return _react.default.createElement(_Box.default, _extends({\n    ref: ref\n  }, props, {\n    style: aspectViewStyle,\n    onLayout: function onLayout(_ref) {\n      var inLayout = _ref.nativeEvent.layout;\n      return setLayout(inLayout);\n    }\n  }));\n});\nvar AspectRatio = function AspectRatio(props, ref) {\n  var _children$props;\n  var _usePropsResolution = (0, _hooks.usePropsResolution)('AspectRatio', props, {}, {\n      resolveResponsively: ['ratio']\n    }),\n    ratio = _usePropsResolution.ratio,\n    _usePropsResolution$c = _usePropsResolution.children,\n    children = _usePropsResolution$c === void 0 ? _react.default.createElement(_react.default.Fragment, null) : _usePropsResolution$c,\n    resolvedProps = (0, _objectWithoutProperties2.default)(_usePropsResolution, _excluded);\n  var computedStyle = resolvedProps.style;\n  var newChildWithProps = _react.default.cloneElement(children, Object.assign({}, children === null || children === void 0 ? void 0 : children.props, {\n    style: _reactNative.StyleSheet.absoluteFillObject\n  }), children === null || children === void 0 ? void 0 : (_children$props = children.props) === null || _children$props === void 0 ? void 0 : _children$props.children);\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(resolvedProps)) {\n    return null;\n  }\n  if (_reactNative.Platform.OS === 'web') {\n    return _react.default.createElement(AspectView, _extends({\n      aspectRatio: ratio\n    }, resolvedProps, {\n      ref: ref\n    }), newChildWithProps);\n  } else {\n    computedStyle = _reactNative.StyleSheet.flatten([{\n      style: resolvedProps.style\n    }, {\n      aspectRatio: ratio\n    }]);\n    return _react.default.createElement(_Box.default, _extends({}, resolvedProps, {\n      style: computedStyle,\n      ref: ref\n    }), newChildWithProps);\n  }\n};\nvar _default = (0, _react.memo)((0, _react.forwardRef)(AspectRatio));\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Box","_interopRequireDefault","_useHasResponsiveProps","_hooks","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","AspectView","forwardRef","props","ref","_React$useState","React","useState","_React$useState2","_slicedToArray2","layout","setLayout","aspectViewStyle","StyleSheet","flatten","style","_layout$width","width","_layout$height","height","push","aspectRatio","createElement","Box","_extends","onLayout","_ref","inLayout","nativeEvent","AspectRatio","_children$props","_usePropsResolution","usePropsResolution","resolveResponsively","ratio","_usePropsResolution$c","children","Fragment","resolvedProps","_objectWithoutProperties2","computedStyle","newChildWithProps","cloneElement","assign","absoluteFillObject","useHasResponsiveProps","Platform","OS","_default","memo","exports"],"sources":["C:\\Users\\idriss.drame\\Projet\\ApmNews\\node_modules\\native-base\\lib\\module\\components\\composites\\AspectRatio\\index.tsx"],"sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport { StyleSheet, ViewStyle, Platform } from 'react-native';\nimport { default as Box } from '../../primitives/Box';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { usePropsResolution } from '../../../hooks';\nimport type { IAspectRatioProps } from './types';\n\nconst AspectView = forwardRef((props: any, ref?: any) => {\n  const [layout, setLayout] = React.useState();\n  const aspectViewStyle = [StyleSheet.flatten(props.style) || {}];\n  if (layout) {\n    // @ts-ignore\n    let { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      aspectViewStyle.push({ width: height * props.aspectRatio, height });\n    } else {\n      aspectViewStyle.push({ width, height: width / props.aspectRatio });\n    }\n  }\n\n  return (\n    <Box\n      ref={ref}\n      {...props}\n      style={aspectViewStyle}\n      onLayout={({ nativeEvent: { layout: inLayout } }: any) =>\n        setLayout(inLayout)\n      }\n    />\n  );\n});\n\nconst AspectRatio = (props: IAspectRatioProps, ref?: any) => {\n  const { ratio, children = <></>, ...resolvedProps } = usePropsResolution(\n    'AspectRatio',\n    props,\n    {},\n    { resolveResponsively: ['ratio'] }\n  );\n  let computedStyle: ViewStyle | undefined = resolvedProps.style;\n  const newChildWithProps = React.cloneElement(\n    children,\n    {\n      ...children?.props,\n      style: StyleSheet.absoluteFillObject,\n    },\n    children?.props?.children\n  );\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(resolvedProps)) {\n    return null;\n  }\n  // DOC:  It uses a aspectRatio property of React Native and manually calculate on Web\n  if (Platform.OS === 'web') {\n    return (\n      <AspectView aspectRatio={ratio} {...resolvedProps} ref={ref}>\n        {newChildWithProps}\n      </AspectView>\n    );\n  } else {\n    computedStyle = StyleSheet.flatten([\n      { style: resolvedProps.style },\n      { aspectRatio: ratio },\n    ]);\n    return (\n      <Box {...resolvedProps} style={computedStyle} ref={ref}>\n        {newChildWithProps}\n      </Box>\n    );\n  }\n};\n\nexport default memo(forwardRef(AspectRatio));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}
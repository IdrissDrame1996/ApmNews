{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimatedRef = useAnimatedRef;\nvar _react = require(\"react\");\nvar _useSharedValue = require(\"./useSharedValue\");\nvar _NativeMethods = require(\"../NativeMethods\");\nvar _fabricUtils = require(\"../fabricUtils\");\nvar _shareables = require(\"../shareables\");\nfunction getShareableShadowNodeFromComponent(component) {\n  return (0, _fabricUtils.getShadowNodeWrapperFromHostInstance)(component);\n}\nvar getTagValueFunction = global._IS_FABRIC ? getShareableShadowNodeFromComponent : _NativeMethods.getTag;\nvar _worklet_13022177922424_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    tag\\n  } = this._closure;\\n  return function () {\\n    return tag.value;\\n  };\\n}\",\n  location: \"C:\\\\Users\\\\idriss.drame\\\\Projet\\\\ApmNews\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\reanimated2\\\\hook\\\\useAnimatedRef.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"mappings\\\":\\\"AAuBc,kBAAM;EAAA;IAAA;EAAA;EAGZ,OAAO;IAAA,OAAMA,GAAG,CAACC,KAAK;EAAA;AACxB\\\",\\\"names\\\":[\\\"tag\\\",\\\"value\\\"],\\\"sources\\\":[\\\"C:/Users/idriss.drame/Projet/ApmNews/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedRef.js\\\"]}\"\n};\nfunction useAnimatedRef() {\n  var tag = (0, _useSharedValue.useSharedValue)(-1);\n  var ref = (0, _react.useRef)();\n  if (!ref.current) {\n    var fun = function fun(component) {\n      if (component) {\n        tag.value = getTagValueFunction(component);\n        fun.current = component;\n      }\n      return tag.value;\n    };\n    fun.current = null;\n    var remoteRef = (0, _shareables.makeShareableCloneRecursive)({\n      __init: function () {\n        var _e = [new global.Error(), -2, -27];\n        var _f = function _f() {\n          return function () {\n            return tag.value;\n          };\n        };\n        _f._closure = {\n          tag: tag\n        };\n        _f.__initData = _worklet_13022177922424_init_data;\n        _f.__workletHash = 13022177922424;\n        _f.__stackDetails = _e;\n        _f.__version = \"3.1.0\";\n        return _f;\n      }()\n    });\n    (0, _shareables.registerShareableMapping)(fun, remoteRef);\n    ref.current = fun;\n  }\n  return ref.current;\n}","map":{"version":3,"names":["_react","require","_useSharedValue","_NativeMethods","_fabricUtils","_shareables","getShareableShadowNodeFromComponent","component","getShadowNodeWrapperFromHostInstance","getTagValueFunction","global","_IS_FABRIC","getTag","_worklet_13022177922424_init_data","code","location","sourceMap","useAnimatedRef","tag","useSharedValue","ref","useRef","current","fun","value","remoteRef","makeShareableCloneRecursive","__init","_e","Error","_f","_closure","__initData","__workletHash","__stackDetails","__version","registerShareableMapping"],"sources":["C:\\Users\\idriss.drame\\Projet\\ApmNews\\node_modules\\react-native-reanimated\\lib\\module\\reanimated2\\hook\\useAnimatedRef.ts"],"sourcesContent":["import { Component, useRef } from 'react';\nimport { useSharedValue } from './useSharedValue';\nimport { RefObjectFunction } from './commonTypes';\nimport { ShadowNodeWrapper } from '../commonTypes';\nimport { getTag } from '../NativeMethods';\nimport { getShadowNodeWrapperFromHostInstance } from '../fabricUtils';\nimport {\n  makeShareableCloneRecursive,\n  registerShareableMapping,\n} from '../shareables';\n\nfunction getShareableShadowNodeFromComponent(\n  component: Component\n): ShadowNodeWrapper {\n  return getShadowNodeWrapperFromHostInstance(component);\n}\n\nconst getTagValueFunction = global._IS_FABRIC\n  ? getShareableShadowNodeFromComponent\n  : getTag;\n\nexport function useAnimatedRef<T extends Component>(): RefObjectFunction<T> {\n  const tag = useSharedValue<number | ShadowNodeWrapper | null>(-1);\n  const ref = useRef<RefObjectFunction<T>>();\n\n  if (!ref.current) {\n    const fun: RefObjectFunction<T> = <RefObjectFunction<T>>((component) => {\n      // enters when ref is set by attaching to a component\n      if (component) {\n        tag.value = getTagValueFunction(component);\n        fun.current = component;\n      }\n      return tag.value;\n    });\n\n    fun.current = null;\n\n    const remoteRef = makeShareableCloneRecursive({\n      __init: () => {\n        'worklet';\n        return () => tag.value;\n      },\n    });\n    registerShareableMapping(fun, remoteRef);\n\n    ref.current = fun;\n  }\n\n  return ref.current;\n}\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AAGA,IAAAE,cAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AAKA,SAASK,mCAAmCA,CAC1CC,SAAoB,EACD;EACnB,OAAO,IAAAC,iDAAoC,EAACD,SAAS,CAAC;AACxD;AAEA,IAAME,mBAAmB,GAAGC,MAAM,CAACC,UAAU,GACzCL,mCAAmC,GACnCM,qBAAM;AAAA,IAAAC,iCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;AAAA;AAEH,SAASC,cAAcA,CAAA,EAA8C;EAC1E,IAAMC,GAAG,GAAG,IAAAC,8BAAc,EAAoC,CAAC,CAAC,CAAC;EACjE,IAAMC,GAAG,GAAG,IAAAC,aAAM,GAAwB;EAE1C,IAAI,CAACD,GAAG,CAACE,OAAO,EAAE;IAChB,IAAMC,GAAyB,GAA2B,SAApDA,GAAyBA,CAA2BhB,SAAS,EAAK;MAEtE,IAAIA,SAAS,EAAE;QACbW,GAAG,CAACM,KAAK,GAAGf,mBAAmB,CAACF,SAAS,CAAC;QAC1CgB,GAAG,CAACD,OAAO,GAAGf,SAAS;MACzB;MACA,OAAOW,GAAG,CAACM,KAAK;IAClB,CAAE;IAEFD,GAAG,CAACD,OAAO,GAAG,IAAI;IAElB,IAAMG,SAAS,GAAG,IAAAC,uCAA2B,EAAC;MAC5CC,MAAM;QAAA,IAAAC,EAAA,QAAAlB,MAAA,CAAAmB,KAAA;QAAA,IAAAC,EAAA,YAAAA,GAAA,EAAQ;UAEZ,OAAO;YAAA,OAAMZ,GAAG,CAACM,KAAK;UAAA;QACxB;QAAAM,EAAA,CAAAC,QAAA;UAAAb,GAAA,EAxCGA;QAAA;QAAAY,EAAA,CAAAE,UAAA,GAAAnB,iCAAA;QAAAiB,EAAA,CAAAG,aAAA;QAAAH,EAAA,CAAAI,cAAA,GAAAN,EAAA;QAAAE,EAAA,CAAAK,SAAA;QAAA,OAAAL,EAAA;MAAA;IAyCL,CAAC,CAAC;IACF,IAAAM,oCAAwB,EAACb,GAAG,EAAEE,SAAS,CAAC;IAExCL,GAAG,CAACE,OAAO,GAAGC,GAAG;EACnB;EAEA,OAAOH,GAAG,CAACE,OAAO;AACpB"},"metadata":{},"sourceType":"script","externalDependencies":[]}